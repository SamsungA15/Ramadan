@@ -14,50 +14,54 @@ body {
}

header {
  background: #000;
  padding: 15px;
  text-align: center;
  font-size: 22px;
}

nav {
  display: flex;
  justify-content: space-around;
  background: #222;
}

nav button {
  flex: 1;
  padding: 12px;
  background: none;
  border: none;
  color: #fff;
  font-size: 18px;
  cursor: pointer;
}

.nav-scroll {
  overflow-x: auto;
}

nav button:hover {
  background: #333;
}

.page {
  display: none;
  padding: 15px;
}

.page.active {
  display: block;
}

select {
  width: 100%;
  padding: 10px;
  font-size: 18px;
  margin-bottom: 15px;
}

.ayah {
  background: #1c1c1c;
  margin-bottom: 10px;
  padding: 15px;
  border-radius: 8px;
@@ -69,69 +73,161 @@ h3 {
  margin-top: 30px;
  color: #ffd700;
}

.counter {
  font-size: 40px;
  text-align: center;
  margin: 20px 0;
}

.tasbeeh-btn {
  width: 100%;
  padding: 15px;
  font-size: 22px;
  background: #444;
  color: #fff;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

.reset {
  margin-top: 10px;
  background: #a00;
}

.compass-wrap {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 14px;
  margin-top: 10px;
}

.compass {
  width: min(280px, 85vw);
  aspect-ratio: 1;
  border: 6px solid #ffd700;
  border-radius: 50%;
  position: relative;
  background: radial-gradient(circle at center, #1d1d1d 40%, #111 100%);
  box-shadow: 0 0 18px rgba(255, 215, 0, 0.25);
}

.compass .needle {
  position: absolute;
  left: calc(50% - 3px);
  top: 12%;
  width: 6px;
  height: 38%;
  background: linear-gradient(to bottom, #ff3b30 50%, #fff 50%);
  border-radius: 10px;
  transform-origin: 50% 100%;
  transition: transform 0.25s ease-out;
}

.compass .center-dot {
  position: absolute;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: #ffd700;
  left: calc(50% - 9px);
  top: calc(50% - 9px);
}

.cardinal {
  position: absolute;
  color: #ffd700;
  font-size: 20px;
  font-weight: bold;
}

.north { top: 8px; left: calc(50% - 9px); }
.south { bottom: 8px; left: calc(50% - 9px); }
.east { right: 10px; top: calc(50% - 9px); }
.west { left: 10px; top: calc(50% - 9px); }

.meta {
  text-align: center;
  color: #ddd;
  line-height: 1.8;
}

.permission-btn {
  padding: 10px 14px;
  border-radius: 8px;
  border: none;
  background: #ffd700;
  color: #111;
  font-size: 16px;
  font-weight: 700;
  cursor: pointer;
}
</style>
</head>

<body>

<header>๐ ุชุทุจูู ุงููุฑุขู ุงููุฑูู</header>

<nav>
<nav class="nav-scroll">
  <button onclick="showPage('quran')">ุงููุฑุขู</button>
  <button onclick="showPage('adhkar')">ุงูุฃุฐูุงุฑ</button>
  <button onclick="showPage('tasbeeh')">ุงููุณุจุญุฉ</button>
  <button onclick="showPage('compassPage')">ุงูุจูุตูุฉ</button>
</nav>

<!-- ุตูุญุฉ ุงููุฑุขู -->
<div id="quran" class="page active">
  <select id="surahSelect"></select>
  <div id="ayahs"></div>
</div>

<!-- ุตูุญุฉ ุงูุจูุตูุฉ -->
<div id="compassPage" class="page">
  <h3>๐งญ ุจูุตูุฉ ุงูุงุชุฌุงู</h3>
  <div class="compass-wrap">
    <div class="compass" id="compass">
      <div class="cardinal north">N</div>
      <div class="cardinal south">S</div>
      <div class="cardinal east">E</div>
      <div class="cardinal west">W</div>
      <div id="needle" class="needle"></div>
      <div class="center-dot"></div>
    </div>

    <button id="enableCompass" class="permission-btn" style="display:none;">ุชูุนูู ุงูุจูุตูุฉ</button>

    <div class="meta">
      <div>ุงูุงุชุฌุงู ุงูุญุงูู: <span id="heading">0ยฐ</span></div>
      <div id="compassStatus">ุญุฑูู ุงููุงุชู ูุจุฏุก ูุฑุงุกุฉ ุงูุงุชุฌุงู.</div>
    </div>
  </div>
</div>

<!-- ุตูุญุฉ ุงูุฃุฐูุงุฑ -->
<div id="adhkar" class="page">

<h3>๐ ุฃุฐูุงุฑ ุงูุตุจุงุญ</h3>
<div class="ayah">ุฃุตุจุญูุง ูุฃุตุจุญ ุงูููู ููู ูุงูุญูุฏ ูููุ ูุง ุฅูู ุฅูุง ุงููู ูุญุฏู ูุง ุดุฑูู ููุ ูู ุงูููู ููู ุงูุญูุฏ ููู ุนูู ูู ุดูุก ูุฏูุฑ</div>
<div class="ayah">ุงูููู ุจู ุฃุตุจุญูุง ูุจู ุฃูุณููุง ูุจู ูุญูุง ูุจู ูููุช ูุฅููู ุงููุดูุฑ</div>
<div class="ayah">ุงูููู ุฅูู ุฃุณุฃูู ุฎูุฑ ูุฐุง ุงูููู ูุชุญู ููุตุฑู ูููุฑู ูุจุฑูุชู ููุฏุงู</div>
<div class="ayah">ุณุจุญุงู ุงููู ูุจุญูุฏู (100 ูุฑุฉ)</div>
<div class="ayah">ูุง ุฅูู ุฅูุง ุงููู ูุญุฏู ูุง ุดุฑูู ููุ ูู ุงูููู ููู ุงูุญูุฏ ููู ุนูู ูู ุดูุก ูุฏูุฑ (100 ูุฑุฉ)</div>
<div class="ayah">ุฃุนูุฐ ุจูููุงุช ุงููู ุงูุชุงูุงุช ูู ุดุฑ ูุง ุฎูู (3 ูุฑุงุช)</div>

<h3>๐ ุฃุฐูุงุฑ ุงููุณุงุก</h3>
<div class="ayah">ุฃูุณููุง ูุฃูุณู ุงูููู ููู ูุงูุญูุฏ ููู</div>
<div class="ayah">ุงูููู ุจู ุฃูุณููุง ูุจู ุฃุตุจุญูุง ูุจู ูุญูุง ูุจู ูููุช ูุฅููู ุงููุตูุฑ</div>
<div class="ayah">ุงูููู ุฅูู ุฃุณุฃูู ุฎูุฑ ูุฐู ุงููููุฉ ูุฎูุฑ ูุง ูููุง</div>
<div class="ayah">ุจุงุณู ุงููู ุงูุฐู ูุง ูุถุฑ ูุน ุงุณูู ุดูุก ูู ุงูุฃุฑุถ ููุง ูู ุงูุณูุงุก ููู ุงูุณููุน ุงูุนููู (3 ูุฑุงุช)</div>
<div class="ayah">ุฑุถูุช ุจุงููู ุฑุจูุง ูุจุงูุฅุณูุงู ุฏูููุง ูุจูุญูุฏ ๏ทบ ูุจููุง (3 ูุฑุงุช)</div>

<h3>๐๏ธ ุฃุฐูุงุฑ ุงูููู</h3>
<div class="ayah">ุจุงุณูู ุงูููู ุฃููุช ูุฃุญูุง</div>
<div class="ayah">ุงูููู ููู ุนุฐุงุจู ููู ุชุจุนุซ ุนุจุงุฏู</div>
<div class="ayah">ุณุจุญุงู ุงููู (33) ุงูุญูุฏ ููู (33) ุงููู ุฃูุจุฑ (34)</div>

<h3>๐ ุฃุฐูุงุฑ ุงูุงุณุชููุงุธ</h3>
<div class="ayah">ุงูุญูุฏ ููู ุงูุฐู ุฃุญูุงูุง ุจุนุฏูุง ุฃูุงุชูุง ูุฅููู ุงููุดูุฑ</div>
@@ -219,29 +315,78 @@ surahSelect.addEventListener("change", e => {
});

loadSurah(0);

function showPage(id) {
  document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

let count = 0;

function increment() {
  count++;
  document.getElementById("count").textContent = count;
}

function reset() {
  count = 0;
  document.getElementById("count").textContent = 0;
}

function changeTasbeeh(text) {
  document.getElementById("tasbeehText").textContent = text;
  reset();
}

const needle = document.getElementById("needle");
const headingText = document.getElementById("heading");
const compassStatus = document.getElementById("compassStatus");
const enableCompassBtn = document.getElementById("enableCompass");

function updateCompass(angle) {
  if (typeof angle !== "number" || Number.isNaN(angle)) return;
  const normalized = (angle + 360) % 360;
  needle.style.transform = `rotate(${normalized}deg)`;
  headingText.textContent = `${Math.round(normalized)}ยฐ`;
  compassStatus.textContent = "ุงูุจูุตูุฉ ุชุนูู ุงูุขู.";
}

function handleOrientation(event) {
  if (event.webkitCompassHeading != null) {
    updateCompass(event.webkitCompassHeading);
    return;
  }

  if (event.alpha != null) {
    updateCompass(360 - event.alpha);
  }
}

function startCompass() {
  window.addEventListener("deviceorientation", handleOrientation, true);
}

if (typeof DeviceOrientationEvent !== "undefined" &&
    typeof DeviceOrientationEvent.requestPermission === "function") {
  enableCompassBtn.style.display = "inline-block";
  compassStatus.textContent = "ุงุถุบุท ุชูุนูู ุงูุจูุตูุฉ ููุณูุงุญ ุจุงููุตูู ุฅูู ุงููุณุชุดุนุฑ.";
  enableCompassBtn.addEventListener("click", async () => {
    try {
      const permission = await DeviceOrientationEvent.requestPermission();
      if (permission === "granted") {
        startCompass();
        enableCompassBtn.style.display = "none";
      } else {
        compassStatus.textContent = "ุชู ุฑูุถ ุฅุฐู ุงููุณุชุดุนุฑ.";
      }
    } catch {
      compassStatus.textContent = "ุชุนุฐุฑ ุชูุนูู ุงูุจูุตูุฉ ุนูู ูุฐุง ุงูุฌูุงุฒ.";
    }
  });
} else {
  startCompass();
}
</script>

</body>
</html>
