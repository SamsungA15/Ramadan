<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    :root {
      --bg: #f7f7f7;
      --text: #111;
      --card: #ffffff;
      --accent: #0a8754;
    }
    body.dark {
      --bg: #121212;
      --text: #f5f5f5;
      --card: #1e1e1e;
      --accent: #2ecc71;
    }
    body {
      margin: 0;
      font-family: "Amiri", serif;
      background: var(--bg);
      color: var(--text);
    }
    header {
      background: var(--accent);
      color: white;
      padding: 10px;
      text-align: center;
    }
    nav {
      display: flex;
      justify-content: space-around;
      background: var(--card);
      padding: 10px;
    }
    nav button {
      padding: 10px 15px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .hidden { display: none; }
    .container {
      padding: 15px;
      max-width: 900px;
      margin: auto;
    }
    select {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      margin-bottom: 15px;
    }
    .ayah {
      background: var(--card);
      margin-bottom: 10px;
      padding: 15px;
      border-radius: 10px;
      font-size: 20px;
      line-height: 2;
    }
    .ayah span {
      color: var(--accent);
      font-size: 14px;
    }
    .tasbeeh-box {
      background: var(--card);
      padding: 20px;
      text-align: center;
      border-radius: 15px;
    }
    .tasbeeh-box button {
      margin: 10px;
      padding: 15px;
      font-size: 18px;
      border-radius: 10px;
      border: none;
      cursor: pointer;
    }
  </style>
</head>

<body>
<header>
  <h2 id="pageTitle">Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…</h2>
</header>

<nav>
  <button onclick="showPage('quran')">ğŸ“– Ø§Ù„Ù‚Ø±Ø¢Ù†</button>
  <button onclick="showPage('adhkar')">ğŸ¤² Ø§Ù„Ø£Ø°ÙƒØ§Ø±</button>
  <button onclick="showPage('tasbeeh')">ğŸ“¿ Ø§Ù„Ù…Ø³Ø¨Ø­Ø©</button>
  <button onclick="toggleTheme()">ğŸŒ“</button>
</nav>

<div class="container">

  <!-- ØµÙØ­Ø© Ø§Ù„Ù‚Ø±Ø¢Ù† -->
  <div id="quranPage">
    <select id="surahSelect"></select>
    <div id="ayahs"></div>
  </div>

  <!-- ØµÙØ­Ø© Ø§Ù„Ø£Ø°ÙƒØ§Ø± -->
  <div id="adhkarPage" class="hidden">
    <div class="ayah">Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­</div>
    <div class="ayah">Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡</div>
    <div class="ayah">Ø£Ø°ÙƒØ§Ø± Ø±Ù…Ø¶Ø§Ù†</div>
    <div class="ayah">Ø£Ø°ÙƒØ§Ø± Ù„ÙŠÙ„Ø© Ø§Ù„Ù‚Ø¯Ø±</div>
    <div class="ayah">Ø£Ø°ÙƒØ§Ø± ÙŠÙˆÙ… Ø§Ù„Ø¬Ù…Ø¹Ø©</div>
  </div>

  <!-- ØµÙØ­Ø© Ø§Ù„Ù…Ø³Ø¨Ø­Ø© -->
  <div id="tasbeehPage" class="hidden">
    <div class="tasbeeh-box">
      <h3 id="tasbeehText">Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡</h3>
      <h1 id="counter">0</h1>
      <button onclick="countTasbeeh()">â•</button>
      <button onclick="resetTasbeeh()">ğŸ”„ ØªØµÙÙŠØ±</button>
      <br><br>
      <select onchange="changeTasbeeh(this.value)">
        <option>Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡</option>
        <option>Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡</option>
        <option>Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±</option>
        <option>Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡</option>
        <option>Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡</option>
      </select>
    </div>
  </div>

</div>

<script src="quran.js"></script>

<script>
/* ========== ØªÙ†Ù‚Ù„ Ø§Ù„ØµÙØ­Ø§Øª ========== */
function showPage(page) {
  document.getElementById("quranPage").classList.add("hidden");
  document.getElementById("adhkarPage").classList.add("hidden");
  document.getElementById("tasbeehPage").classList.add("hidden");

  if (page === "quran") {
    document.getElementById("quranPage").classList.remove("hidden");
    pageTitle.innerText = "Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…";
  }
  if (page === "adhkar") {
    document.getElementById("adhkarPage").classList.remove("hidden");
    pageTitle.innerText = "Ø§Ù„Ø£Ø°ÙƒØ§Ø±";
  }
  if (page === "tasbeeh") {
    document.getElementById("tasbeehPage").classList.remove("hidden");
    pageTitle.innerText = "Ø§Ù„Ù…Ø³Ø¨Ø­Ø©";
  }
}

/* ========== Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ† ========== */
function toggleTheme() {
  document.body.classList.toggle("dark");
}

/* ========== ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙˆØ± ========== */
const surahSelect = document.getElementById("surahSelect");
const ayahsDiv = document.getElementById("ayahs");

quran.forEach(surah => {
  const opt = document.createElement("option");
  opt.value = surah.id;
  opt.textContent = surah.name;
  surahSelect.appendChild(opt);
});

surahSelect.onchange = () => {
  localStorage.setItem("lastSurah", surahSelect.value);
  loadSurah(surahSelect.value);
};

function loadSurah(id) {
  ayahsDiv.innerHTML = "";
  const surah = quran.find(s => s.id == id);
  if (!surah || !surah.verses) return;

  surah.verses.forEach(v => {
    const div = document.createElement("div");
    div.className = "ayah";
    div.innerHTML = `${v.text} <span>ï´¿${v.id}ï´¾</span>`;
    ayahsDiv.appendChild(div);
  });

  const end = document.createElement("div");
  end.className = "ayah";
  end.innerHTML = "ØµØ¯Ù‚ Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ…";
  ayahsDiv.appendChild(end);
}

/* ========== Ø­ÙØ¸ Ø¢Ø®Ø± Ø³ÙˆØ±Ø© ========== */
const last = localStorage.getItem("lastSurah") || 1;
surahSelect.value = last;
loadSurah(last);

/* ========== Ø§Ù„Ù…Ø³Ø¨Ø­Ø© ========== */
let count = 0;
function countTasbeeh() {
  count++;
  document.getElementById("counter").innerText = count;
}
function resetTasbeeh() {
  count = 0;
  document.getElementById("counter").innerText = count;
}
function changeTasbeeh(text) {
  document.getElementById("tasbeehText").innerText = text;
  resetTasbeeh();
}
</script>

</body>
</html>
